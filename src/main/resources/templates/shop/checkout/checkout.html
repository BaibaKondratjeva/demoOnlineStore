<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:replace="~{shop/homepage-layout/homepage-head :: homepage-head}"></div>

<body>

<div th:replace="~{shop/homepage-layout/main-top :: main-top}"></div>

<div th:replace="~{shop/homepage-layout/main-navigation :: main-navigation}"></div>

    <!-- Start All Title Box -->
<div class="all-title-box">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Checkout</h2>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Shop</a></li>
                    <li class="breadcrumb-item active">Checkout</li>
                </ul>
            </div>
        </div>
    </div>
</div>
    <!-- End All Title Box -->

    <!-- Start Cart  -->

<div class="cart-box-main">
    <div class="container">
        <form method="POST" th:object="${checkoutForm}" class="row">

                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="checkout-address">
                        <div class="title-left">
                            <h3>Billing address</h3>
                        </div>
                        <div class="needs-validation" novalidate>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name">First name *</label>
                                    <input th:field="${checkoutForm.name}"
                                           th:value="${checkoutForm.name}"
                                           type="text" class="form-control" id="name" placeholder="" value="" required>
<!--                                    <input type="text" th:field="*{name}" class="form-control" id="name" placeholder="First name" value="" required>-->
                                    <div class="invalid-feedback"> Valid first name is required. </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="surname">Last name *</label>
                                    <input th:field="${checkoutForm.surname}"
                                           th:value="${checkoutForm.surname}" type="text" class="form-control"
                                           id="surname" placeholder="" value="" required>
<!--                                    <input type="text" th:field="*{surname}" class="form-control" id="surname" placeholder="Last name" value="" required>-->
                                    <div class="invalid-feedback"> Valid last name is required. </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="e_mail">Email Address *</label>
                                <input th:field="${checkoutForm.e_mail}"
                                       th:value="${checkoutForm.e_mail}"
                                       type="text" class="form-control" id="e_mail" placeholder="">
<!--                                <input type="text" th:field="*{e_mail}" class="form-control" id="e_mail" placeholder="Email Address">-->
                                <div class="invalid-feedback"> Please enter a valid email address for shipping updates. </div>
                            </div>
                            <div class="mb-3">
                                <label for="phone">Phone number *</label>
                                <input th:field="${checkoutForm.phone}"
                                       th:value="${checkoutForm.phone}"
                                       type="text" class="form-control" id="phone" placeholder="">
<!--                                <input type="text" th:field="*{phone}" class="form-control" id="phone" placeholder="Phone number">-->
                                <div class="invalid-feedback"> Please enter a valid email address for shipping updates. </div>
                            </div>
                            <div class="mb-3">
                                <label for="address">Address *</label>
                                <input th:field="${checkoutForm.address}"
                                       th:value="${checkoutForm.address}"
                                       type="text" class="form-control" id="address" placeholder="" required>
<!--                                <input type="text" th:field="*{address}" class="form-control" id="address" placeholder="Address" required>-->
                                <div class="invalid-feedback"> Please enter your shipping address. </div>
                            </div>
                            <hr class="mb-4">
                         </div>
                     </div>
                </div>
                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="odr-box">
                                <div class="title-left">
                                    <h3>Shopping cart</h3>
                                </div>
                                <div class="rounded p-2 bg-light">
                                    <div th:each="orderedProduct : ${orderedProducts}" class="media mb-2 border-bottom">
                                        <div class="media-body"> <a th:text="${orderedProduct.name}" href="detail.html"></a>
                                            <div class="small text-muted">
                                                Price: €<span th:text="${orderedProduct.price}"></span>
                                                <span class="mx-2">|</span> Qty: <span th:text="${orderedProduct.quantity}"></span> <span class="mx-2">|</span>
                                                Subtotal: €<span th:text="${orderedProduct.price * orderedProduct.quantity}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-12">
                            <div class="order-box">
                                <div class="title-left">
                                    <h3>Your order</h3>
                                </div>
<!--                                <div class="d-flex">-->
<!--                                    <div class="font-weight-bold">Product</div>-->
<!--                                    <div class="ml-auto font-weight-bold">Total</div>-->
<!--                                </div>-->
                                <hr class="my-1">
                                <div class="d-flex">
                                    <h5>Products</h5>
                                    <div th:text="${#aggregates.sum(orderedProducts.![quantity])}" class="ml-auto font-weight-bold"></div>
<!--                                    <div class="ml-auto font-weight-bold"> $ 2 </div>-->
                                </div>
                                <hr>
                                <div class="d-flex gr-total">
                                    <h5>Total €</h5>
                                    <div th:text="${#aggregates.sum(orderedProducts.![totalSum])}" class="ml-auto h5"></div>
<!--                                    <div class="ml-auto h5"><span th:text="${orderedProduct.price * orderedProduct.quantity}"></span> $ </div>-->
                                </div>
                                <hr> </div>
                        </div>
                        <div class="col-12 d-flex shopping-box">
                            <button type="submit" class="ml-auto btn hvr-hover" style="color: white;">Place Order</button>
                        </div>
                    </div>
                </div>
        </form>
    </div>
</div>

    <!-- End Cart -->

    <div th:replace="~{shop/homepage-layout/celebrities :: celebrities}"></div>

    <div th:replace="~{shop/homepage-layout/footer :: footer}"></div>

    <div th:replace="~{shop/homepage-layout/copyright :: copyright}"></div>

    <a href="/" id="back-to-top" title="Back to top" style="display: none;">&uarr;</a>

    <!-- ALL JS FILES -->
    <script src="/shop/js/jquery-3.2.1.min.js"></script>
    <script src="/shop/js/popper.min.js"></script>
    <script src="/shop/js/bootstrap.min.js"></script>
    <!-- ALL PLUGINS -->
    <script src="/shop/js/jquery.superslides.min.js"></script>
    <script src="/shop/js/bootstrap-select.js"></script>
    <script src="/shop/js/inewsticker.js"></script>
    <script src="/shop/js/bootsnav.js."></script>
    <script src="/shop/js/images-loded.min.js"></script>
    <script src="/shop/js/isotope.min.js"></script>
    <script src="/shop/js/owl.carousel.min.js"></script>
    <script src="/shop/js/baguetteBox.min.js"></script>
    <script src="/shop/js/form-validator.min.js"></script>
    <script src="/shop/js/contact-form-script.js"></script>
    <script src="/shop/js/custom.js"></script>
</body>

</html>