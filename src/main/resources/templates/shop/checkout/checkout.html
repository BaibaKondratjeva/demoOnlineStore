<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:replace="~{shop/homepage-layout/homepage-head :: homepage-head}"></div>

<body>

<div th:replace="~{shop/homepage-layout/main-top2 :: main-top2}"></div>
<div th:replace="~{shop/homepage-layout/main-navigation :: main-navigation}"></div>

<div class="all-title-box">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Checkout</h2>
                <ul class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Shop</a></li>
                    <li class="breadcrumb-item active">Checkout</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="cart-box-main">
    <div class="container">
        <form method="POST" th:object="${checkoutForm}" class="row">
            <style>
                    .invalid-feedback {
                        display: block !important;
                    }
            </style>
                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="checkout-address">
                        <div class="title-left">
                            <h3>Billing address</h3>
                        </div>
                        <div class="needs-validation" novalidate>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="name">First name *</label>
                                    <input th:field="${checkoutForm.name}"
                                           th:value="${checkoutForm.name}"
                                           type="text" class="form-control" id="name" placeholder="" value="" required>
                                    <div th:if="${#fields.hasErrors('name')}"
                                         th:errors="*{name}"
                                         class="invalid-feedback"></div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="surname">Last name *</label>
                                    <input th:field="${checkoutForm.surname}"
                                           th:value="${checkoutForm.surname}" type="text" class="form-control"
                                           id="surname" placeholder="" value="" required>
                                    <div th:if="${#fields.hasErrors('surname')}"
                                         th:errors="*{surname}"
                                         class="invalid-feedback"></div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="email">Email Address *</label>
                                <input th:field="${checkoutForm.email}"
                                       th:value="${checkoutForm.email}"
                                       type="text" class="form-control" id="email" placeholder="" value="" required>
                                <div th:if="${#fields.hasErrors('email')}"
                                     th:errors="*{email}"
                                     ></div>
                            </div>
                            <div class="mb-3">
                                <label for="phone">Phone number *</label>
                                <input th:field="${checkoutForm.phone}"
                                       th:value="${checkoutForm.phone}"
                                       type="text" class="form-control" id="phone" placeholder="" value="" required>
                                <div th:if="${#fields.hasErrors('phone')}"
                                     th:errors="*{phone}"
                                     class="invalid-feedback"></div>
                            </div>
                            <div class="mb-3">
                                <label for="address">Address *</label>
                                <input th:field="${checkoutForm.address}"
                                       th:value="${checkoutForm.address}"
                                       type="text" class="form-control" id="address" placeholder="" value="" required>
                                <div th:if="${#fields.hasErrors('address')}"
                                     th:errors="*{address}"
                                     class="invalid-feedback"></div>
                            </div>
                            <hr class="mb-4">
                         </div>
                     </div>
                </div>
                <div class="col-sm-6 col-lg-6 mb-3">
                    <div class="row">
                        <div class="col-md-12 col-lg-12">
                            <div class="odr-box">
                                <div class="title-left">
                                    <h3>Shopping cart</h3>
                                </div>
                                <div class="rounded p-2 bg-light">
                                    <div th:each="orderedProduct : ${orderedProducts}" class="media mb-2 border-bottom">
                                        <div class="media-body"> <a th:text="${orderedProduct.name}" href="detail.html"></a>
                                            <div class="small text-muted">
                                                Price: €<span th:text="${orderedProduct.price}"></span>
                                                <span class="mx-2">|</span> Qty: <span th:text="${orderedProduct.quantity}"></span> <span class="mx-2">|</span>
                                                Subtotal: €<span th:text="${orderedProduct.price * orderedProduct.quantity}"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-lg-12">
                            <div class="order-box">
                                <div class="title-left">
                                    <h3>Your order</h3>
                                </div>
                                <hr class="my-1">
                                <div class="d-flex">
                                    <h5>Products</h5>
                                    <div th:text="${#aggregates.sum(orderedProducts.![quantity])}" class="ml-auto font-weight-bold"></div>
                                </div>
                                <hr>
                                <div class="d-flex gr-total">
                                    <h5>Total €</h5>
                                    <div th:text="${#aggregates.sum(orderedProducts.![totalSum])}" class="ml-auto h5"></div>
                                </div>
                                <hr> </div>
                        </div>
                        <div class="col-12 d-flex shopping-box">
                            <button type="submit" class="ml-auto btn hvr-hover" style="color: white;">Place Order</button>
                        </div>
                    </div>
                </div>
        </form>
    </div>
</div>

<div th:replace="~{shop/homepage-layout/celebrities :: celebrities}"></div>
<div th:replace="~{shop/homepage-layout/footer :: footer}"></div>
<div th:replace="~{shop/homepage-layout/copyright :: copyright}"></div>
<a href="/" id="back-to-top" title="Back to top" style="display: none;">&uarr;</a>

    <!-- ALL JS FILES -->
    <script src="/shop/js/jquery-3.2.1.min.js"></script>
    <script src="/shop/js/popper.min.js"></script>
    <script src="/shop/js/bootstrap.min.js"></script>
    <!-- ALL PLUGINS -->
    <script src="/shop/js/jquery.superslides.min.js"></script>
    <script src="/shop/js/bootstrap-select.js"></script>
    <script src="/shop/js/inewsticker.js"></script>
    <script src="/shop/js/bootsnav.js."></script>
    <script src="/shop/js/images-loded.min.js"></script>
    <script src="/shop/js/isotope.min.js"></script>
    <script src="/shop/js/owl.carousel.min.js"></script>
    <script src="/shop/js/baguetteBox.min.js"></script>
    <script src="/shop/js/form-validator.min.js"></script>
    <script src="/shop/js/contact-form-script.js"></script>
    <script src="/shop/js/custom.js"></script>
</body>

</html>